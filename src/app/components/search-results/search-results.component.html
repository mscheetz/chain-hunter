<p-overlayPanel #saveThis>
    {{saveThisMessage}}
</p-overlayPanel>
<div *ngIf="blockchain !== null">
    <!-- Address Results -->
    <p-panel header="{{blockchain.symbol}} Address" *ngIf="blockchain.address">
        <div class="p-grid">
            <h3 class="word-break">
                <i (mouseover)="saveHover($event, 'Address', saveThis)" 
                   (mouseleave)="saveHover($event, 'Address', saveThis)"
                   (click)="saveResult($event, 'address')" 
                    class="fa fa-star-o" 
                    style="color: deeppink; cursor: pointer;"></i>
                {{blockchain.symbol}} Address: {{blockchain.address.address}}
            </h3>
        </div>
        <div class="m-bottom-1">Balance: {{blockchain.address.quantity}} {{blockchain.symbol}}</div>
        <p-accordion 
                *ngIf="blockchain.address.hasTransactions || blockchain.hasTokens" 
                (onOpen)="onTxnsOpen($event)">
            <!-- Address Transactions -->
            <p-accordionTab 
                    header="Most recent {{blockchain.symbol}} address transactions" 
                    *ngIf="blockchain.address.hasTransactions">
                <div *ngIf="!transactionsComplete">
                    Hunting down Transactions <i class="fa fa-cog fa-2x fa-spin" style="color: #464a4e;"></i>
                </div>
                <div
                    *ngIf="blockchain.address.transactions !== undefined && blockchain.address.transactions.length === 0">
                    No transactions found</div>
                <ul>
                    <li class="address-txn" *ngFor="let txn of blockchain.address.transactions">
                        <transaction [transaction]="txn" 
                                     [address]="blockchain.address.address"
                                     [showHash]="true"></transaction>
                    </li>
                </ul>
            </p-accordionTab>
            <!-- Address Tokens -->
            <p-accordionTab 
                    header="{{blockchain.symbol}} Address Tokens" 
                    *ngIf="blockchain.hasTokens">
                <div *ngIf="blockchain.address.tokens !== undefined && blockchain.address.tokens.length === 0">No tokens
                    found</div>
                <div *ngIf="!tokensComplete">
                    Hunting down tokens <i class="fa fa-cog fa-2x fa-spin" style="color: #464a4e;"></i>
                </div>
                <div *ngIf="blockchain.address.tokens !== undefined && blockchain.address.tokens.length > 0" 
                    [innerHtml]="tokenContent"
                    class="p-grid"></div>
            </p-accordionTab>
        </p-accordion>
        <div *ngIf="blockchain.source">
            <p>
                For more info: <a href="{{blockchain.source}}" target="_blank">{{blockchain.source}}</a>
            </p>
        </div>
    </p-panel>
    <!-- Contract Results -->
    <p-panel header="{{blockchain.symbol}} {{blockchain.symbol === 'ATOM' ? 'Validator' : 'Contract'}}" *ngIf="blockchain.hasContracts && blockchain.contract">
        <h3 class="word-break">
            <i (mouseover)="saveHover($event, 'Contract', saveThis)" 
               (mouseleave)="saveHover($event, 'Contract', saveThis)" 
               (click)="saveResult($event, 'contract')" 
                class="fa fa-star-o" 
                style="color: deeppink; cursor: pointer;"></i>
            {{blockchain.symbol}} {{blockchain.symbol === 'ATOM' ? 'Validator' : 'Contract'}} Address: {{blockchain.contract.address}}
        </h3>
        <p *ngIf="blockchain.contract.contractName">
            Name: {{blockchain.contract.contractName}}
            <img *ngIf="blockchain.contract.icon" src="{{blockchain.contract.icon}}" style="height: 30px; width: 30px; border-radius: 50%;" />
            <img *ngIf="!blockchain.contract.icon && blockchain.contract.symbol && blockchain.contract.hasIcon" src="/assets/cryptoicons/color/{{blockchain.contract.symbol.toLowerCase()}}.png" />
        </p>
        <p *ngIf="blockchain.contract.quantity">
            Balance: {{blockchain.contract.quantity}} {{blockchain.contract.symbol}}
        </p>
        <p *ngIf="blockchain.contract.creator">Creator Address: {{blockchain.contract.creator}}</p>
        <div *ngIf="blockchain.source">
            <p>
                For more info: <a href="{{blockchain.source}}" target="_blank">{{blockchain.source}}</a>
            </p>
        </div>
    </p-panel>
    <!-- Transaction Results -->
    <p-panel header="{{blockchain.symbol}} Transaction" *ngIf="blockchain.transaction">
        <h3 class="word-break">
            <i (mouseover)="saveHover($event, 'Transaction', saveThis)" 
               (mouseleave)="saveHover($event, 'Transaction', saveThis)" 
               (click)="saveResult($event, 'transaction')" 
                class="fa fa-star-o" 
                style="color: deeppink; cursor: pointer;"></i>
            {{blockchain.symbol}} Transaction Hash: {{blockchain.transaction.hash}}
        </h3>
        <transaction [transaction]="blockchain.transaction"
                     [address]=""
                     [showHash]="false"></transaction>
        <div *ngIf="blockchain.source">
            <p>
                For more info: <a href="{{blockchain.source}}" target="_blank">{{blockchain.source}}</a>
            </p>
        </div>
    </p-panel>
</div>
<p-panel showHeader="false" *ngIf="huntStatus === 1">
    <h3>Hunting...</h3>
</p-panel>
<p-panel showHeader="false" *ngIf="huntStatus === 2 && selectedChain === ''">
    <h3>Nothing found</h3>
</p-panel>
<p-panel showHeader="false" *ngIf="huntStatus === 3 && selectedChain === ''">
    <h3>Select a Blockchain</h3>
    <span>Results found: {{resultsFound.join(', ')}}</span>
</p-panel>
<p-panel showHeader="false"
    *ngIf="(huntStatus === 2 || huntStatus === 3) && selectedChain !== '' && blockchain !== null && !blockchain.address && !blockchain.transaction && !blockchain.contract">
    <h3>No {{blockchain.symbol}} Data found</h3>
</p-panel>